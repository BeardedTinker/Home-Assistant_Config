export const id=7854;export const ids=[7854,6986];export const modules={34904:(e,t,i)=>{i.d(t,{a:()=>s});var a=i(56722),n=i(31134);function s(e,t){const i=(0,n.m)(e.entity_id),s=void 0!==t?t:e?.state;if(["button","event","input_button","scene"].includes(i))return s!==a.Hh;if((0,a.g0)(s))return!1;if(s===a.KF&&"alert"!==i)return!1;switch(i){case"alarm_control_panel":return"disarmed"!==s;case"alert":return"idle"!==s;case"cover":case"valve":return"closed"!==s;case"device_tracker":case"person":return"not_home"!==s;case"lawn_mower":return["mowing","error"].includes(s);case"lock":return"locked"!==s;case"media_player":return"standby"!==s;case"vacuum":return!["idle","docked","paused"].includes(s);case"plant":return"problem"===s;case"group":return["on","home","open","locked","problem"].includes(s);case"timer":return"active"===s;case"camera":return"streaming"===s}return!0}},96194:(e,t,i)=>{i.d(t,{n:()=>n});const a=/^(\w+)\.(\w+)$/,n=e=>a.test(e)},65858:(e,t,i)=>{var a=i(36312),n=(i(89655),i(253),i(2075),i(16891),i(27783),i(66360)),s=i(29818),l=i(94100),r=i(50880),o=i(31134),d=i(81523),u=i(11605),c=(i(98969),i(58715),i(83859),i(80594),i(82739));const h=()=>i.e(4353).then(i.bind(i,4353));var y=i(29371),m=i(884);const p="___create-new-entity___";(0,a.A)([(0,s.EM)("ha-entity-picker")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"autofocus",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,attribute:"allow-custom-entity"})],key:"allowCustomEntity",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Array})],key:"createDomains",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Array,attribute:"include-domains"})],key:"includeDomains",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Array,attribute:"exclude-domains"})],key:"excludeDomains",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Array,attribute:"include-device-classes"})],key:"includeDeviceClasses",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Array,attribute:"include-unit-of-measurement"})],key:"includeUnitOfMeasurement",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Array,attribute:"include-entities"})],key:"includeEntities",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Array,attribute:"exclude-entities"})],key:"excludeEntities",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"entityFilter",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"hideClearIcon",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({attribute:"item-label-path"})],key:"itemLabelPath",value:()=>"friendly_name"},{kind:"field",decorators:[(0,s.wk)()],key:"_opened",value:()=>!1},{kind:"field",decorators:[(0,s.P)("ha-combo-box",!0)],key:"comboBox",value:void 0},{kind:"method",key:"open",value:async function(){await this.updateComplete,await(this.comboBox?.open())}},{kind:"method",key:"focus",value:async function(){await this.updateComplete,await(this.comboBox?.focus())}},{kind:"field",key:"_initedStates",value:()=>!1},{kind:"field",key:"_states",value:()=>[]},{kind:"field",key:"_rowRenderer",value(){return e=>n.qy`<ha-list-item graphic="avatar" .twoline="${!!e.entity_id}"> ${e.state?n.qy`<state-badge slot="graphic" .stateObj="${e}" .hass="${this.hass}"></state-badge>`:""} <span>${e.friendly_name}</span> <span slot="secondary">${e.entity_id.startsWith(p)?this.hass.localize("ui.components.entity.entity-picker.new_entity"):e.entity_id}</span> </ha-list-item>`}},{kind:"field",key:"_getStates",value(){return(0,l.A)(((e,t,i,a,n,s,l,r,u,h)=>{let _=[];if(!t)return[];let v=Object.keys(t.states);const f=h?.length?h.map((e=>{const i=t.localize("ui.components.entity.entity-picker.create_helper",{domain:(0,m.z)(e)?t.localize(`ui.panel.config.helpers.types.${e}`):(0,y.p$)(t.localize,e)});return{entity_id:p+e,state:"on",last_changed:"",last_updated:"",context:{id:"",user_id:null,parent_id:null},friendly_name:i,attributes:{icon:"mdi:plus"},strings:[e,i]}})):[];return v.length?r?(v=v.filter((e=>this.includeEntities.includes(e))),v.map((e=>{const i=(0,d.u)(t.states[e])||e;return{...t.states[e],friendly_name:i,strings:[e,i]}})).sort(((e,t)=>(0,c.S)(e.friendly_name,t.friendly_name,this.hass.locale.language)))):(u&&(v=v.filter((e=>!u.includes(e)))),i&&(v=v.filter((e=>i.includes((0,o.m)(e))))),a&&(v=v.filter((e=>!a.includes((0,o.m)(e))))),_=v.map((e=>{const i=(0,d.u)(t.states[e])||e;return{...t.states[e],friendly_name:i,strings:[e,i]}})).sort(((e,t)=>(0,c.S)(e.friendly_name,t.friendly_name,this.hass.locale.language))),s&&(_=_.filter((e=>e.entity_id===this.value||e.attributes.device_class&&s.includes(e.attributes.device_class)))),l&&(_=_.filter((e=>e.entity_id===this.value||e.attributes.unit_of_measurement&&l.includes(e.attributes.unit_of_measurement)))),n&&(_=_.filter((e=>e.entity_id===this.value||n(e)))),_.length?(f?.length&&_.push(...f),_):[{entity_id:"",state:"",last_changed:"",last_updated:"",context:{id:"",user_id:null,parent_id:null},friendly_name:this.hass.localize("ui.components.entity.entity-picker.no_match"),attributes:{friendly_name:this.hass.localize("ui.components.entity.entity-picker.no_match"),icon:"mdi:magnify"},strings:[]},...f]):[{entity_id:"",state:"",last_changed:"",last_updated:"",context:{id:"",user_id:null,parent_id:null},friendly_name:this.hass.localize("ui.components.entity.entity-picker.no_entities"),attributes:{friendly_name:this.hass.localize("ui.components.entity.entity-picker.no_entities"),icon:"mdi:magnify"},strings:[]},...f]}))}},{kind:"method",key:"shouldUpdate",value:function(e){return!!(e.has("value")||e.has("label")||e.has("disabled"))||!(!e.has("_opened")&&this._opened)}},{kind:"method",key:"willUpdate",value:function(e){(!this._initedStates||e.has("_opened")&&this._opened)&&(this._states=this._getStates(this._opened,this.hass,this.includeDomains,this.excludeDomains,this.entityFilter,this.includeDeviceClasses,this.includeUnitOfMeasurement,this.includeEntities,this.excludeEntities,this.createDomains),this._initedStates&&(this.comboBox.filteredItems=this._states),this._initedStates=!0),e.has("createDomains")&&this.createDomains?.length&&this.hass.loadFragmentTranslation("config")}},{kind:"method",key:"render",value:function(){return n.qy` <ha-combo-box item-value-path="entity_id" .itemLabelPath="${this.itemLabelPath}" .hass="${this.hass}" .value="${this._value}" .label="${void 0===this.label?this.hass.localize("ui.components.entity.entity-picker.entity"):this.label}" .helper="${this.helper}" .allowCustomValue="${this.allowCustomEntity}" .filteredItems="${this._states}" .renderer="${this._rowRenderer}" .required="${this.required}" .disabled="${this.disabled}" @opened-changed="${this._openedChanged}" @value-changed="${this._valueChanged}" @filter-changed="${this._filterChanged}"> </ha-combo-box> `}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_openedChanged",value:function(e){this._opened=e.detail.value}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation();const t=e.detail.value?.trim();if(t&&t.startsWith(p)){const e=t.substring(23);return i=this,a={domain:e,dialogClosedCallback:e=>{e.entityId&&this._setValue(e.entityId)}},void(0,r.r)(i,"show-dialog",{dialogTag:"dialog-helper-detail",dialogImport:h,dialogParams:a})}var i,a;t!==this._value&&this._setValue(t)}},{kind:"method",key:"_filterChanged",value:function(e){const t=e.target,i=e.detail.value.trim().toLowerCase();t.filteredItems=i.length?(0,u.H)(i,this._states):this._states}},{kind:"method",key:"_setValue",value:function(e){this.value=e,setTimeout((()=>{(0,r.r)(this,"value-changed",{value:e}),(0,r.r)(this,"change")}),0)}}]}}),n.WF)},46359:(e,t,i)=>{i.d(t,{Hg:()=>a,e0:()=>n});i(16891);const a=e=>e.map((e=>{if("string"!==e.type)return e;switch(e.name){case"username":return{...e,autocomplete:"username"};case"password":return{...e,autocomplete:"current-password"};case"code":return{...e,autocomplete:"one-time-code"};default:return e}})),n=(e,t)=>e.callWS({type:"auth/sign_path",path:t})},56722:(e,t,i)=>{i.d(t,{Hh:()=>n,KF:()=>l,g0:()=>d,s7:()=>r});var a=i(37719);const n="unavailable",s="unknown",l="off",r=[n,s],o=[n,s,l],d=(0,a.g)(r);(0,a.g)(o)},43527:(e,t,i)=>{i.d(t,{c:()=>s});const a=async(e,t,i,n,s,...l)=>{const r=s,o=r[e],d=o=>n&&n(s,o.result)!==o.cacheKey?(r[e]=void 0,a(e,t,i,n,s,...l)):o.result;if(o)return o instanceof Promise?o.then(d):d(o);const u=i(s,...l);return r[e]=u,u.then((i=>{r[e]={result:i,cacheKey:n?.(s,i)},setTimeout((()=>{r[e]=void 0}),t)}),(()=>{r[e]=void 0})),u},n=e=>e.callWS({type:"entity/source"}),s=e=>a("_entitySources",3e4,n,(e=>Object.keys(e.states).length),e)},29371:(e,t,i)=>{i.d(t,{QC:()=>s,fK:()=>n,p$:()=>a});const a=(e,t,i)=>e(`component.${t}.title`)||i?.name||t,n=(e,t)=>{const i={type:"manifest/list"};return t&&(i.integrations=t),e.callWS(i)},s=(e,t)=>e.callWS({type:"manifest/get",integration:t})}};
//# sourceMappingURL=7854.715lthkvPQw.js.map